<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<link rel="stylesheet" href="app.css">
<link rel="stylesheet" href="animate.css">
<link rel="stylesheet" href="bootstrap.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>
<script src="echarts.min.js"></script>
<body>
<div id="app" @mousemove="updateXY">

    <!--<div id="header">-->
        <!--<div>{{title}}</div>-->
        <!--<div id="header_bar">-->
            <!--<ul>-->
                <!--<li><router-link to="/main">Main</router-link></li>-->
                <!--<li><router-link to="/demo1">Demo1</router-link></li>-->
                <!--<li><router-link to="/demo2">Demo2</router-link></li>-->
                <!--<li><router-link to="/demo3">Demo3</router-link></li>-->
            <!--</ul>-->
        <!--</div>-->
    <!--</div>-->
    <!---->
    <div class="content" >
        <router-view></router-view>
    </div>
    <transition enter-active-class="animated slideInLeft" leave-active-class="animated slideOutLeft">
        <div id="nav_bar" v-show="mouse_X < 100">
            <ul>
                <li><router-link to="/main">Main</router-link></li>
                <li><router-link to="/demo1">Demo1</router-link></li>
                <li><router-link to="/demo2">Demo2</router-link></li>
                <li><router-link to="/demo3">Demo3</router-link></li>
            </ul>
        </div>
    </transition>

    <div>{{mouse_X}}, {{mouse_Y}}</div>
    <button @click="testb()">TEST</button>
    <!--<div id="picture" style="width: 600px;height: 400px"></div>-->

    <br>
    <hr>
    <hr>
    <!--<canvas id="can_demo2"></canvas>-->
    <!--<canvas id="can_demo2"></canvas>-->
</div>

<script src="vue.js"></script>
<script src="vue-router.js"></script>
<script src="vue-resource.js"></script>
<script src="jquery-3.2.1.js"></script>
<script>

    var main = {
        template:`
<div id="main">
    <ul>
    <li>
        <router-link to="/demo1"><div class="items">
            <img class="item_img" src="https://www.excel-easy.com/smi/examples/line-chart.png" alt="">
        </div></router-link></li>
    <li>
        <router-link to="/demo2"><div class="items">
            <img class="item_img" src="https://canvasjs.com/wp-content/uploads/images/gallery/javascript-charts/column/javascript-column-charts-graphs.png" alt="">
        </div></router-link>
    </li>
    <li>
        <router-link to="/demo3"><div class="items">
            <img class="item_img" src="https://docs.microsoft.com/en-us/sql/reporting-services/report-builder/media/report-builder-quick-pie-chart.png?view=sql-server-2017" alt="">

        </div></router-link>
    </li>
    <li><div class="items"></div></li>
    <li><div class="items"></div></li>
    <li><div class="items"></div></li>
    </ul>
</div>
`
    };

    var demo1 = {
        data:function () {
            return {
                str:"",
                map_color:['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026'],
                map_value:[{name: 'Alabama', value: 50},
                    // {name: 'Alaska', value: 731449},
                    {name: 'Arizona', value: 4}]
            };
        },
        template:`<transition enter-active-class="animated zoomIn" leave-active-class="animated zoomOut">
                    <div class="content">
                        <h1>First Demo</h1>
                        <input class="input_bar" type="text" >
                        <button class="btn-primary btn">Input</button>
                        <button class="btn btn-success input_button">UK</button>
                        <button class="btn btn-danger input_button2" @click="show_map">US</button>
                        <br>
                        <div id="picture" style="width: 600px;height: 400px"></div>
                        <!--<img src="https://www.excel-easy.com/smi/examples/line-chart.png" alt="">-->
                        <button @click="testb()">TEST</button>
                        <div>{{str}}</div>
                    </div>
                  </transition>`,
        methods:{

            testb:function () {
                this.$http.jsonp("https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",{
                    params:{
                        wd:"a"
                    },
                    jsonp:"cb"
                }).then(function (value) {
                    //this.arr = value.body.s;
                    console.log(value);
                    this.str = value.body.s;
                    console.log(this.str);
                })
            },
            show_map:function () {
                console.log(this.map_value);
                map_value = this.map_value;
                var map_color = this.map_color;
                var dom = document.getElementById("picture");
                var myChart = echarts.init(dom);
                var app = {};
                option = null;
                myChart.showLoading();

                $.get('map/USA.json', function (usaJson) {
                    console.log(this.map_value);
                    myChart.hideLoading();

                    echarts.registerMap('USA', usaJson, {
                        Alaska: {              // 把阿拉斯加移到美国主大陆左下方
                            left: -131,
                            top: 25,
                            width: 15
                        },
                        Hawaii: {
                            left: -110,        // 夏威夷
                            top: 28,
                            width: 5
                        },
                        'Puerto Rico': {       // 波多黎各
                            left: -76,
                            top: 26,
                            width: 2
                        }
                    });
                    option = {
                        title: {
                            text: 'USA Population Estimates (2012)',
                            subtext: 'Data from www.census.gov',
                            sublink: 'http://www.census.gov/popest/data/datasets.html',
                            left: 'right'
                        },
                        tooltip: {
                            trigger: 'item',
                            showDelay: 0,
                            transitionDuration: 0.2,
                            formatter: function (params) {
                                var value = (params.value + '').split('.');
                                value = value[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, '$1,');
                                return params.seriesName + '<br/>' + params.name + ': ' + value;
                            }
                        },
                        visualMap: {
                            left: 'right',
                            min: 1,
                            max: 100,
                            inRange: {
                                 color:map_color
                            },
                            text:['High','Low'],           // 文本，默认为数值文本
                            calculable: true
                        },
                        toolbox: {
                            show: true,
                            //orient: 'vertical',
                            left: 'left',
                            top: 'top',
                            feature: {
                                dataView: {readOnly: false},
                                restore: {},
                                saveAsImage: {}
                            }
                        },
                        series: [
                            {
                                name: 'USA PopEstimates',
                                type: 'map',
                                roam: true,
                                map: 'USA',
                                itemStyle:{
                                    emphasis:{label:{show:true}}
                                },
                                // 文本位置修正
                                textFixed: {
                                    Alaska: [20, -20]
                                },
                                data:map_value,
                                // data:[
                                    // {name: 'Alabama', value: 50},
                                    // {name: 'Alaska', value: 731449},
                                    // {name: 'Arizona', value: 4}
                                    // {name: 'Arkansas', value: 2949131},
                                    // {name: 'California', value: 38041430},
                                    // {name: 'Colorado', value: 5187582},
                                    // {name: 'Connecticut', value: 3590347},
                                    // {name: 'Delaware', value: 917092},
                                    // {name: 'District of Columbia', value: 632323},
                                    // {name: 'Florida', value: 19317568},
                                    // {name: 'Georgia', value: 9919945},
                                    // {name: 'Hawaii', value: 1392313},
                                    // {name: 'Idaho', value: 1595728},
                                    // {name: 'Illinois', value: 12875255},
                                    // {name: 'Indiana', value: 6537334},
                                    // {name: 'Iowa', value: 3074186},
                                    // {name: 'Kansas', value: 2885905},
                                    // {name: 'Kentucky', value: 4380415},
                                    // {name: 'Louisiana', value: 4601893},
                                    // {name: 'Maine', value: 1329192},
                                    // {name: 'Maryland', value: 5884563},
                                    // {name: 'Massachusetts', value: 6646144},
                                    // {name: 'Michigan', value: 9883360},
                                    // {name: 'Minnesota', value: 5379139},
                                    // {name: 'Mississippi', value: 2984926},
                                    // {name: 'Missouri', value: 6021988},
                                    // {name: 'Montana', value: 1005141},
                                    // {name: 'Nebraska', value: 1855525},
                                    // {name: 'Nevada', value: 2758931},
                                    // {name: 'New Hampshire', value: 1320718},
                                    // {name: 'New Jersey', value: 8864590},
                                    // {name: 'New Mexico', value: 2085538},
                                    // {name: 'New York', value: 19570261},
                                    // {name: 'North Carolina', value: 9752073},
                                    // {name: 'North Dakota', value: 699628},
                                    // {name: 'Ohio', value: 11544225},
                                    // {name: 'Oklahoma', value: 3814820},
                                    // {name: 'Oregon', value: 3899353},
                                    // {name: 'Pennsylvania', value: 12763536},
                                    // {name: 'Rhode Island', value: 1050292},
                                    // {name: 'South Carolina', value: 4723723},
                                    // {name: 'South Dakota', value: 833354},
                                    // {name: 'Tennessee', value: 6456243},
                                    // {name: 'Texas', value: 26059203},
                                    // {name: 'Utah', value: 2855287},
                                    // {name: 'Vermont', value: 626011},
                                    // {name: 'Virginia', value: 8185867},
                                    // {name: 'Washington', value: 6897012},
                                    // {name: 'West Virginia', value: 1855413},
                                    // {name: 'Wisconsin', value: 5726398},
                                    // {name: 'Wyoming', value: 576412},
                                    // {name: 'Puerto Rico', value: 3667084}
                                // ]
                            }
                        ]
                    };

                    myChart.setOption(option);
                });;
                // if (option && typeof option === "object") {
                //     myChart.setOption(option, true);
                // }on () {

            }

        }

    };
    var demo2 = {
        template: `<transition enter-active-class="animated zoomIn" leave-active-class="animated zoomOut">
                    <div class="content">
                        <h1>Second Demo</h1>
                        <!--<img src="https://canvasjs.com/wp-content/uploads/images/gallery/javascript-charts/column/javascript-column-charts-graphs.png" alt="">-->
                        <button @click="show_can">SHOW</button>
                        <canvas id="can_demo2"></canvas>
                    </div>
                  </transition>`,
        methods: {
            show_can: function () {


                let myChart = document.getElementById('can_demo2');
                if (myChart) {
                    console.log('666');
                    console.log(myChart);
                    Chart.defaults.global.defaultFontFamily='lato';
                    Chart.defaults.global.defaultFontSize=10;

                    let massPopChart = new Chart(myChart.getContext('2d'), {
                        type: 'pie', //bar, horizontalBar, pie, line, doughnut, radar, polarArea
                        data: {
                            labels: ['Boston', 'Worcester', 'Springfield', 'Lowll', 'Cambridge', 'New Bedford'],
                            datasets: [{
                                label: 'Population',
                                data: [1814, 6175, 4256, 8453, 2123, 7560],
                                // backgroundColor:'green'
                                backgroundColor:[
                                    'rgba(255, 99, 132, 0.2)',
                                    'rgba(54, 162, 235, 0.2)',
                                    'rgba(255, 206, 86, 0.2)',
                                    'rgba(75, 192, 192, 0.2)',
                                    'rgba(153, 102, 255, 0.2)',
                                    'rgba(255, 159, 64, 0.2)'],
                                borderWidth:1,
                                borderColor:'#777',
                                hoverBorderWidth:3,
                                hoverBorderColor:'#000'
                            }],
                        },
                        options: {
                            title:{
                                display:true,
                                text: "Cities In Massach",
                                fontSize:25
                            },
                            legend:{
                                position:'right',
                                labels:{
                                    fontColor:'#000'
                                }
                            },
                            layout:{
                                padding:{
                                    left:50,
                                    right:0,
                                    bottom:0,
                                    top:0
                                }
                            },
                            tooltips:{
                                enabled:true
                            }
                        }
                    });
                }
            }
        }
    }
    var demo3 = {
        template:`<transition enter-active-class="animated zoomIn" leave-active-class="animated zoomOut">
                    <div class="content">
                        <h1>Third Demo</h1>
                        <img src="https://docs.microsoft.com/en-us/sql/reporting-services/report-builder/media/report-builder-quick-pie-chart.png?view=sql-server-2017" alt="">
                    </div>
                  </transition>`
    };

    var routes = [
        {"path":"/main",component:main},
        {"path":"/demo1",component:demo1},
        {"path":"/demo2",component:demo2},
        {"path":"/demo3",component:demo3}
    ];

    var router = new VueRouter({
        routes
    });

    new Vue({
        router,
        el:"#app",
        data:{
            title:"Comp 9021 demo",
            content:"Here is content",
            nav_bar:"Here is nva bar",
            mouse_X:200,
            mouse_Y:0,
            show_nav:false
        },
        methods:{
            updateXY:function (e) {
                this.mouse_X = e.clientX;
                this.mouse_Y = e.offsetY;
            }

        }
    })

</script>
<script>

</script>
<script src="app.js"></script>
</body>
</html>